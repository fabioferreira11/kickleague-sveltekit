import{s as xe,e as g,b as S,t as A,d as _,f as I,j as P,h as R,i as c,q as m,k as N,l as i,m as ne,J as Ge,B as Oe,p as me,n as ce,D as qe,v as _e,O as Ue,r as Fe,P as Je,G as We,Q as Ae,w as Te,o as Re,C as Qe,x as he}from"../chunks/scheduler.RIs2sDzR.js";import{S as ye,i as ke,g as be,a as L,c as we,t as B,b as ue,d as fe,m as de,e as ve,k as Ye}from"../chunks/index.CgKjrO5Z.js";import{e as pe}from"../chunks/each.NZ2UQc-u.js";/* empty css                       */import{H as Ke,M as Xe}from"../chunks/MenuBurger.CLckUUVR.js";import{B as Ze}from"../chunks/button.tlNCqNeg.js";import{w as et,g as He}from"../chunks/entry.DXWqRFhg.js";import{g as tt,C as st,a as lt}from"../chunks/carte-joueur.BWiSuAb-.js";const je=et(0);function at(a){let e,s="Chargement du joueur...";return{c(){e=g("p"),e.textContent=s},l(t){e=_(t,"P",{"data-svelte-h":!0}),me(e)!=="svelte-1f0rdvn"&&(e.textContent=s)},m(t,n){N(t,e,n)},p:ce,i:ce,o:ce,d(t){t&&c(e)}}}function nt(a){let e,s;return e=new st({props:{player:a[1],fullWidth:!0}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),s=!0},p(t,n){const o={};n&2&&(o.player=t[1]),e.$set(o)},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){ve(e,t)}}}function it(a){let e,s,t,n,o,f,b,u;const C=[nt,at],j=[];function q(d,w){return d[1]?0:1}return s=q(a),t=j[s]=C[s](a),{c(){e=g("div"),t.c(),n=S(),o=g("div"),f=g("h2"),b=A(a[0]),this.h()},l(d){e=_(d,"DIV",{class:!0});var w=I(e);t.l(w),n=P(w),o=_(w,"DIV",{class:!0});var T=I(o);f=_(T,"H2",{class:!0});var E=I(f);b=R(E,a[0]),E.forEach(c),T.forEach(c),w.forEach(c),this.h()},h(){m(f,"class","svelte-1dr3ynd"),m(o,"class","moyenne-joueur svelte-1dr3ynd"),m(e,"class","joueur svelte-1dr3ynd")},m(d,w){N(d,e,w),j[s].m(e,null),i(e,n),i(e,o),i(o,f),i(f,b),u=!0},p(d,[w]){let T=s;s=q(d),s===T?j[s].p(d,w):(be(),L(j[T],1,1,()=>{j[T]=null}),we(),t=j[s],t?t.p(d,w):(t=j[s]=C[s](d),t.c()),B(t,1),t.m(e,n)),(!u||w&1)&&ne(b,d[0])},i(d){u||(B(t),u=!0)},o(d){L(t),u=!1},d(d){d&&c(e),j[s].d()}}}function ot(a,e,s){let{moyennedepoint:t=30}=e,{playerId:n}=e,o=null,f=null;const b=Ge();return Oe(async()=>{if(n)try{const u=await tt(n,new Date().getFullYear());u&&u.player&&(s(1,o=u.player),u.team&&u.games&&(f=u.team,b("teaminfo",f)))}catch(u){console.error("Error fetching player data:",u)}console.log("Player Data:",o),je.update(u=>u+t)}),a.$$set=u=>{"moyennedepoint"in u&&s(0,t=u.moyennedepoint),"playerId"in u&&s(2,n=u.playerId)},[t,o,n]}class rt extends ye{constructor(e){super(),ke(this,e,ot,it,xe,{moyennedepoint:0,playerId:2})}}function Se(a){let e,s,t='<p class="svelte-1jwx4b8">Vous êtes ici dans la mine d&#39;informations sur les points des joueurs ! Découvrez précisément combien de points sont attribués au joueur en fonction des actions qu’ils réalisent pendant le match.</p> <h2 class="svelte-1jwx4b8">points positifs :</h2> <section class="points-positif svelte-1jwx4b8"><div class="collone-1-positif svelte-1jwx4b8"><div class="maniere svelte-1jwx4b8"><img src="../static/img/buts.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">buts : 30 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/passed.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">passe désicive : 20 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/tir-cadre.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">tirs cadrés : 3 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/tir.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">tir : 1 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/arbitre.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">faute : 2 points</h3></div></div> <div class="collone-2-positif svelte-1jwx4b8"><div class="maniere svelte-1jwx4b8"><img src="../static/img/interception.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">interception : 2 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/tacle.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">tacle décisif : 10 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/penalty.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">penalty obtenu : 10 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/arret-peno.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">arreter un penalty : 30 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/clean-sheet.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">clean sheet : 15 points</h3></div></div></section> <h2 class="titre-negatif svelte-1jwx4b8">points négatifs :</h2> <section class="points-negatif svelte-1jwx4b8"><div class="collone-1-negatif svelte-1jwx4b8"><div class="maniere svelte-1jwx4b8"><img src="../static/img/arbitre.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">faute : 2 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/carte-jaune.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">carton jaune : 10 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/carte-jaune.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">carton rouge : 25 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/penalty-commis.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">penalty commis : 10 points</h3></div></div> <div class="collone-2-negatif svelte-1jwx4b8"><div class="maniere svelte-1jwx4b8"><img src="../static/img/penalty-rate.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">penalty raté : 15 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/goal-concede.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">goal concédé : 8 points</h3></div> <div class="maniere svelte-1jwx4b8"><img src="../static/img/faute-grave.png" alt="" class="svelte-1jwx4b8"/> <h3 class="svelte-1jwx4b8">Erreur importante : 15 points</h3></div></div></section>',n,o;return{c(){e=g("button"),s=g("button"),s.innerHTML=t,this.h()},l(f){e=_(f,"BUTTON",{class:!0});var b=I(e);s=_(b,"BUTTON",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-wqyhcr"&&(s.innerHTML=t),b.forEach(c),this.h()},h(){m(s,"class","modal-rank-info svelte-1jwx4b8"),m(e,"class","modal-background svelte-1jwx4b8")},m(f,b){N(f,e,b),i(e,s),n||(o=[_e(s,"click",Ue(a[2])),_e(e,"click",a[1])],n=!0)},p:ce,d(f){f&&c(e),n=!1,Fe(o)}}}function ct(a){let e,s=a[0]&&Se(a);return{c(){s&&s.c(),e=qe()},l(t){s&&s.l(t),e=qe()},m(t,n){s&&s.m(t,n),N(t,e,n)},p(t,[n]){t[0]?s?s.p(t,n):(s=Se(t),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null)},i:ce,o:ce,d(t){t&&c(e),s&&s.d(t)}}}function ut(a,e,s){let{showModal:t=!1}=e;function n(){s(0,t=!1)}function o(f){Je.call(this,a,f)}return a.$$set=f=>{"showModal"in f&&s(0,t=f.showModal)},[t,n,o]}class ft extends ye{constructor(e){super(),ke(this,e,ut,ct,xe,{showModal:0,close:1})}get close(){return this.$$.ctx[1]}}function Pe(a,e,s){const t=a.slice();return t[15]=e[s],t}function Ne(a,e,s){const t=a.slice();return t[18]=e[s],t}function dt(a){let e,s;return e=new Ke({props:{style:"margin-top: 2vh;"}}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),s=!0},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){ve(e,t)}}}function vt(a){let e,s;return e=new Xe({}),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),s=!0},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){ve(e,t)}}}function Ve(a){let e,s;return e=new rt({props:{playerId:a[18]}}),e.$on("teaminfo",a[7]),{c(){ue(e.$$.fragment)},l(t){fe(e.$$.fragment,t)},m(t,n){de(e,t,n),s=!0},p(t,n){const o={};n&8&&(o.playerId=t[18]),e.$set(o)},i(t){s||(B(e.$$.fragment,t),s=!0)},o(t){L(e.$$.fragment,t),s=!1},d(t){ve(e,t)}}}function ze(a){let e,s,t,n,o,f,b=a[15].teams.home.name+"",u,C,j,q,d=new Date(a[15].fixture.date).toLocaleDateString("fr-FR",{weekday:"long"})+"",w,T,E,H=a[15].fixture.date.split("T")[1].slice(0,5)+"",G,r,p,y,z,Y,O,V=a[15].teams.away.name+"",K,X;return{c(){e=g("div"),s=g("div"),t=g("img"),o=S(),f=g("h2"),u=A(b),C=S(),j=g("div"),q=g("h3"),w=A(d),T=S(),E=g("h2"),G=A(H),r=S(),p=g("div"),y=g("img"),Y=S(),O=g("h2"),K=A(V),X=S(),this.h()},l(k){e=_(k,"DIV",{class:!0});var $=I(e);s=_($,"DIV",{class:!0});var W=I(s);t=_(W,"IMG",{src:!0,alt:!0,class:!0}),o=P(W),f=_(W,"H2",{class:!0});var U=I(f);u=R(U,b),U.forEach(c),W.forEach(c),C=P($),j=_($,"DIV",{class:!0});var Z=I(j);q=_(Z,"H3",{class:!0});var ee=I(q);w=R(ee,d),ee.forEach(c),T=P(Z),E=_(Z,"H2",{class:!0});var F=I(E);G=R(F,H),F.forEach(c),Z.forEach(c),r=P($),p=_($,"DIV",{class:!0});var J=I(p);y=_(J,"IMG",{src:!0,alt:!0,class:!0}),Y=P(J),O=_(J,"H2",{class:!0});var ie=I(O);K=R(ie,V),ie.forEach(c),J.forEach(c),X=P($),$.forEach(c),this.h()},h(){he(t.src,n=a[15].teams.home.logo)||m(t,"src",n),m(t,"alt","logo du club"),m(t,"class","svelte-2u5n0r"),m(f,"class","svelte-2u5n0r"),m(s,"class","equipe1 svelte-2u5n0r"),m(q,"class","svelte-2u5n0r"),m(E,"class","svelte-2u5n0r"),m(j,"class","date-match svelte-2u5n0r"),he(y.src,z=a[15].teams.away.logo)||m(y,"src",z),m(y,"alt","logo du club"),m(y,"class","svelte-2u5n0r"),m(O,"class","svelte-2u5n0r"),m(p,"class","equipe2 svelte-2u5n0r"),m(e,"class","resultat svelte-2u5n0r")},m(k,$){N(k,e,$),i(e,s),i(s,t),i(s,o),i(s,f),i(f,u),i(e,C),i(e,j),i(j,q),i(q,w),i(j,T),i(j,E),i(E,G),i(e,r),i(e,p),i(p,y),i(p,Y),i(p,O),i(O,K),i(e,X)},p(k,$){$&16&&!he(t.src,n=k[15].teams.home.logo)&&m(t,"src",n),$&16&&b!==(b=k[15].teams.home.name+"")&&ne(u,b),$&16&&d!==(d=new Date(k[15].fixture.date).toLocaleDateString("fr-FR",{weekday:"long"})+"")&&ne(w,d),$&16&&H!==(H=k[15].fixture.date.split("T")[1].slice(0,5)+"")&&ne(G,H),$&16&&!he(y.src,z=k[15].teams.away.logo)&&m(y,"src",z),$&16&&V!==(V=k[15].teams.away.name+"")&&ne(K,V)},d(k){k&&c(e)}}}function mt(a){let e,s,t,n,o,f,b,u,C,j="Sur cette page, vous pouvez consulter et peaufiner la composition d'équipe que vous avez préparée pour la Match Week en cours. Avant le coup d'envoi, c'est l'endroit idéal pour apporter les ajustements nécessaires à votre formation. Assurez-vous que votre équipe est prête à briller sur le terrain.",q,d,w,T,E,H,G,r,p,y,z,Y,O,V,K="i",X,k,$,W,U,Z='<h2 class="svelte-2u5n0r">Matchs</h2> <p class="svelte-2u5n0r">Ici, vous avez l&#39;opportunité unique de suivre les performances des équipes dont vous avez choisi les joueurs. Découvrez si vos équipes favorites ont brillé par une victoire, tenu bon dans un match nul, ou fait face à une défaite.</p>',ee,F,J,ie,Ie;const $e=[vt,dt],te=[];function Ee(l,v){return l[1]?0:1}e=Ee(a),s=te[e]=$e[e](a);let se=pe(a[3]),x=[];for(let l=0;l<se.length;l+=1)x[l]=Ve(Ne(a,se,l));const Be=l=>L(x[l],1,1,()=>{x[l]=null});H=new Ze({props:{text:"Modifier",url:"/compo"}});function Le(l){a[8](l)}let Me={};a[2]!==void 0&&(Me.showModal=a[2]),k=new ft({props:Me}),We.push(()=>Ye(k,"showModal",Le));let oe=pe(a[4]),M=[];for(let l=0;l<oe.length;l+=1)M[l]=ze(Pe(a,oe,l));return{c(){s.c(),t=S(),n=g("section"),o=g("h2"),f=A("Match week "),b=A(a[0]),u=S(),C=g("p"),C.textContent=j,q=S(),d=g("section"),w=g("div");for(let l=0;l<x.length;l+=1)x[l].c();T=S(),E=g("div"),ue(H.$$.fragment),G=S(),r=g("div"),p=g("h3"),y=A("Points de votre équipe : "),z=A(a[5]),Y=S(),O=g("div"),V=g("h3"),V.textContent=K,X=S(),ue(k.$$.fragment),W=S(),U=g("section"),U.innerHTML=Z,ee=S(),F=g("section");for(let l=0;l<M.length;l+=1)M[l].c();this.h()},l(l){s.l(l),t=P(l),n=_(l,"SECTION",{class:!0});var v=I(n);o=_(v,"H2",{class:!0});var D=I(o);f=R(D,"Match week "),b=R(D,a[0]),D.forEach(c),u=P(v),C=_(v,"P",{class:!0,"data-svelte-h":!0}),me(C)!=="svelte-1xqhiba"&&(C.textContent=j),v.forEach(c),q=P(l),d=_(l,"SECTION",{class:!0});var le=I(d);w=_(le,"DIV",{class:!0});var h=I(w);for(let ae=0;ae<x.length;ae+=1)x[ae].l(h);h.forEach(c),T=P(le),E=_(le,"DIV",{class:!0});var Q=I(E);fe(H.$$.fragment,Q),Q.forEach(c),le.forEach(c),G=P(l),r=_(l,"DIV",{class:!0});var re=I(r);p=_(re,"H3",{class:!0});var ge=I(p);y=R(ge,"Points de votre équipe : "),z=R(ge,a[5]),ge.forEach(c),Y=P(re),O=_(re,"DIV",{class:!0});var De=I(O);V=_(De,"H3",{class:!0,"data-svelte-h":!0}),me(V)!=="svelte-93oi5w"&&(V.textContent=K),De.forEach(c),X=P(re),fe(k.$$.fragment,re),re.forEach(c),W=P(l),U=_(l,"SECTION",{class:!0,"data-svelte-h":!0}),me(U)!=="svelte-rsovxr"&&(U.innerHTML=Z),ee=P(l),F=_(l,"SECTION",{class:!0});var Ce=I(F);for(let ae=0;ae<M.length;ae+=1)M[ae].l(Ce);Ce.forEach(c),this.h()},h(){m(o,"class","svelte-2u5n0r"),m(C,"class","svelte-2u5n0r"),m(n,"class","gameweek-text svelte-2u5n0r"),m(w,"class","composition svelte-2u5n0r"),m(E,"class","button svelte-2u5n0r"),m(d,"class","equipe-gameweek svelte-2u5n0r"),m(p,"class","svelte-2u5n0r"),m(V,"class","svelte-2u5n0r"),m(O,"class","points-info svelte-2u5n0r"),m(r,"class","points-compo svelte-2u5n0r"),m(U,"class","match-text svelte-2u5n0r"),m(F,"class","match svelte-2u5n0r")},m(l,v){te[e].m(l,v),N(l,t,v),N(l,n,v),i(n,o),i(o,f),i(o,b),i(n,u),i(n,C),N(l,q,v),N(l,d,v),i(d,w);for(let D=0;D<x.length;D+=1)x[D]&&x[D].m(w,null);i(d,T),i(d,E),de(H,E,null),N(l,G,v),N(l,r,v),i(r,p),i(p,y),i(p,z),i(r,Y),i(r,O),i(O,V),i(r,X),de(k,r,null),N(l,W,v),N(l,U,v),N(l,ee,v),N(l,F,v);for(let D=0;D<M.length;D+=1)M[D]&&M[D].m(F,null);J=!0,ie||(Ie=_e(V,"click",a[6]),ie=!0)},p(l,[v]){let D=e;if(e=Ee(l),e!==D&&(be(),L(te[D],1,1,()=>{te[D]=null}),we(),s=te[e],s||(s=te[e]=$e[e](l),s.c()),B(s,1),s.m(t.parentNode,t)),(!J||v&1)&&ne(b,l[0]),v&136){se=pe(l[3]);let h;for(h=0;h<se.length;h+=1){const Q=Ne(l,se,h);x[h]?(x[h].p(Q,v),B(x[h],1)):(x[h]=Ve(Q),x[h].c(),B(x[h],1),x[h].m(w,null))}for(be(),h=se.length;h<x.length;h+=1)Be(h);we()}(!J||v&32)&&ne(z,l[5]);const le={};if(!$&&v&4&&($=!0,le.showModal=l[2],Ae(()=>$=!1)),k.$set(le),v&16){oe=pe(l[4]);let h;for(h=0;h<oe.length;h+=1){const Q=Pe(l,oe,h);M[h]?M[h].p(Q,v):(M[h]=ze(Q),M[h].c(),M[h].m(F,null))}for(;h<M.length;h+=1)M[h].d(1);M.length=oe.length}},i(l){if(!J){B(s);for(let v=0;v<se.length;v+=1)B(x[v]);B(H.$$.fragment,l),B(k.$$.fragment,l),J=!0}},o(l){L(s),x=x.filter(Boolean);for(let v=0;v<x.length;v+=1)L(x[v]);L(H.$$.fragment,l),L(k.$$.fragment,l),J=!1},d(l){l&&(c(t),c(n),c(q),c(d),c(G),c(r),c(W),c(U),c(ee),c(F)),te[e].d(l),Te(x,l),ve(H),ve(k),Te(M,l),ie=!1,Ie()}}}function ht(a,e,s){let t;Re(a,je,r=>s(5,t=r));let n=!1,o=!1,f=[],b=null,u=[];function C(){s(2,o=!0)}function j(){typeof window<"u"&&s(1,n=window.innerWidth<=768)}async function q(){try{const r=await fetch("/api/getUserId",{method:"GET"});r.ok?b=(await r.json()).userId:He("/")}catch{He("/")}}async function d(){if(b){const r=localStorage.getItem("userCompositions");if(r){const y=JSON.parse(r)[b];y&&s(3,f=Object.values(y).map(z=>z.id))}}}function w(r){const p=r.detail;E(p.id)}function T(r,p){return u.some(y=>y.teams.home.id===r&&y.teams.away.id===p||y.teams.home.id===p&&y.teams.away.id===r)}async function E(r){try{const p=await lt(r);if(p){const y=p.teams.home.id,z=p.teams.away.id;T(y,z)||s(4,u=[...u,p])}}catch(p){console.error("Error fetching next match:",p)}}Oe(async()=>{await q(),b&&await d(),typeof window<"u"&&(j(),window.addEventListener("resize",j))}),Qe(()=>{typeof window<"u"&&window.removeEventListener("resize",j)});let{numero:H="1"}=e;je.set(0);function G(r){o=r,s(2,o)}return a.$$set=r=>{"numero"in r&&s(0,H=r.numero)},[H,n,o,f,u,t,C,w,G]}class kt extends ye{constructor(e){super(),ke(this,e,ht,mt,xe,{numero:0})}}export{kt as component};
