import{s as Be,D as Oe,k as L,n as re,i as d,J as Je,B as Le,e as v,b as S,t as J,d as h,f as j,j as O,h as q,x as C,q as n,F as ve,l as u,v as ae,m as F,K as Z,r as qe,C as Fe}from"../chunks/scheduler.RIs2sDzR.js";import{S as Ae,i as Ue,b as he,d as be,m as ge,a as oe,c as Te,t as te,e as je,g as $e}from"../chunks/index.CgKjrO5Z.js";/* empty css                       */import{H as ze,M as He}from"../chunks/MenuBurger.CLckUUVR.js";import{B as Ke}from"../chunks/button.tlNCqNeg.js";import{e as Ge,u as We,d as Qe}from"../chunks/each.NZ2UQc-u.js";function Ne(i,e,t){const l=i.slice();return l[10]=e[t],l}function Ce(i,e){let t,l,r,m,a,c,p,k,f=e[10].nom+"",b,g,s,o=(e[2][e[10].position]||e[10].position)+"",P,I,D,H=e[10].club+"",R,B,y,T,M=(e[10].moyenne||"30")+"",G,N,X,V,le;function ue(){return e[6](e[10])}return{key:i,first:null,c(){t=v("div"),l=v("div"),r=v("img"),c=S(),p=v("div"),k=v("p"),b=J(f),g=S(),s=v("p"),P=J(o),I=S(),D=v("p"),R=J(H),B=S(),y=v("div"),T=v("p"),G=J(M),N=S(),this.h()},l(z){t=h(z,"DIV",{class:!0});var w=j(t);l=h(w,"DIV",{class:!0});var se=j(l);r=h(se,"IMG",{src:!0,alt:!0,style:!0}),se.forEach(d),c=O(w),p=h(w,"DIV",{class:!0});var x=j(p);k=h(x,"P",{class:!0});var ie=j(k);b=q(ie,f),ie.forEach(d),g=O(x),s=h(x,"P",{class:!0});var A=j(s);P=q(A,o),A.forEach(d),I=O(x),D=h(x,"P",{class:!0});var ce=j(D);R=q(ce,H),ce.forEach(d),x.forEach(d),B=O(w),y=h(w,"DIV",{class:!0});var ne=j(y);T=h(ne,"P",{class:!0});var U=j(T);G=q(U,M),U.forEach(d),ne.forEach(d),N=O(w),w.forEach(d),this.h()},h(){var z;C(r.src,m=e[10].photo_url)||n(r,"src",m),n(r,"alt",a=`Photo de ${e[10].nom}`),ve(r,"width","100%"),ve(r,"height","100%"),ve(r,"object-fit","cover"),ve(r,"border-radius","10px"),n(l,"class","joueur-img svelte-nfojbp"),n(k,"class","svelte-nfojbp"),n(s,"class","svelte-nfojbp"),n(D,"class","svelte-nfojbp"),n(p,"class","choix-joueur-info svelte-nfojbp"),n(T,"class","svelte-nfojbp"),n(y,"class","moyenne-joueur svelte-nfojbp"),n(t,"class",X="choix-joueur "+(((z=e[0])==null?void 0:z.id)===e[10].id?"selected":"")+" svelte-nfojbp"),this.first=t},m(z,w){L(z,t,w),u(t,l),u(l,r),u(t,c),u(t,p),u(p,k),u(k,b),u(p,g),u(p,s),u(s,P),u(p,I),u(p,D),u(D,R),u(t,B),u(t,y),u(y,T),u(T,G),u(t,N),V||(le=ae(t,"click",ue),V=!0)},p(z,w){var se;e=z,w&2&&!C(r.src,m=e[10].photo_url)&&n(r,"src",m),w&2&&a!==(a=`Photo de ${e[10].nom}`)&&n(r,"alt",a),w&2&&f!==(f=e[10].nom+"")&&F(b,f),w&2&&o!==(o=(e[2][e[10].position]||e[10].position)+"")&&F(P,o),w&2&&H!==(H=e[10].club+"")&&F(R,H),w&2&&M!==(M=(e[10].moyenne||"30")+"")&&F(G,M),w&3&&X!==(X="choix-joueur "+(((se=e[0])==null?void 0:se.id)===e[10].id?"selected":"")+" svelte-nfojbp")&&n(t,"class",X)},d(z){z&&d(t),V=!1,le()}}}function Re(i){let e=[],t=new Map,l,r=Ge(i[1]);const m=a=>a[10].id;for(let a=0;a<r.length;a+=1){let c=Ne(i,r,a),p=m(c);t.set(p,e[a]=Ce(p,c))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=Oe()},l(a){for(let c=0;c<e.length;c+=1)e[c].l(a);l=Oe()},m(a,c){for(let p=0;p<e.length;p+=1)e[p]&&e[p].m(a,c);L(a,l,c)},p(a,[c]){c&15&&(r=Ge(a[1]),e=We(e,c,m,1,a,r,t,l.parentNode,Qe,Ce,l,Ne))},i:re,o:re,d(a){a&&d(l);for(let c=0;c<e.length;c+=1)e[c].d(a)}}}function Xe(i,e,t){let{activePosition:l}=e,{selectedPlayer:r}=e,{selectedPlayersList:m=[]}=e,a=[];const c=Je(),p={5:"Goalkeeper",4:"Defender",3:"Midfielder",2:"Attacker",1:"Tous"},k={Goalkeeper:"Gardien",Defender:"Défenseur",Midfielder:"Milieu",Attacker:"Attaquant"};async function f(){const s=p[l];if(s)try{const P=await(await fetch(`/api/getPlayersCompo?position=${s}`)).json();P&&Array.isArray(P.players)?t(1,a=s==="Tous"?P.players.filter(I=>!m.some(D=>(D==null?void 0:D.id)===I.id)):P.players):(console.error("Invalid data format:",P),t(1,a=[]))}catch(o){console.error("Failed to load players:",o),t(1,a=[])}}Le(()=>{f()});function b(s){m.some(o=>(o==null?void 0:o.id)===s.id&&o!==r)||c("playerSelect",s)}const g=s=>b(s);return i.$$set=s=>{"activePosition"in s&&t(4,l=s.activePosition),"selectedPlayer"in s&&t(0,r=s.selectedPlayer),"selectedPlayersList"in s&&t(5,m=s.selectedPlayersList)},i.$$.update=()=>{i.$$.dirty&16&&l&&typeof window<"u"&&f()},[r,a,k,b,l,m,g]}class Ye extends Ae{constructor(e){super(),Ue(this,e,Xe,Re,Be,{activePosition:4,selectedPlayer:0,selectedPlayersList:5})}}function Ze(i){let e,t;return e=new ze({props:{style:"margin-top: 2vh;"}}),{c(){he(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,r){ge(e,l,r),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){je(e,l)}}}function xe(i){let e,t;return e=new He({}),{c(){he(e.$$.fragment)},l(l){be(e.$$.fragment,l)},m(l,r){ge(e,l,r),t=!0},i(l){t||(te(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){je(e,l)}}}function et(i){let e,t;return{c(){e=v("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){C(e.src,t="/img/plus.png")||n(e,"src",t),n(e,"alt","icone plus"),n(e,"class","svelte-1pjpb7f")},m(l,r){L(l,e,r)},p:re,d(l){l&&d(e)}}}function tt(i){let e,t,l,r,m,a,c=i[0][1].nom+"",p,k,f,b=(i[5][i[0][1].position]||i[0][1].position)+"",g;return{c(){e=v("div"),t=v("img"),m=S(),a=v("p"),p=J(c),k=S(),f=v("p"),g=J(b),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=j(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),m=O(o),a=h(o,"P",{class:!0});var P=j(a);p=q(P,c),P.forEach(d),k=O(o),f=h(o,"P",{class:!0});var I=j(f);g=q(I,b),I.forEach(d),o.forEach(d),this.h()},h(){C(t.src,l=i[0][1].photo_url)||n(t,"src",l),n(t,"alt",r=`Photo de ${i[0][1].nom}`),n(t,"class","joueur-photo svelte-1pjpb7f"),n(a,"class","svelte-1pjpb7f"),n(f,"class","svelte-1pjpb7f"),n(e,"class","joueur-info svelte-1pjpb7f")},m(s,o){L(s,e,o),u(e,t),u(e,m),u(e,a),u(a,p),u(e,k),u(e,f),u(f,g)},p(s,o){o&1&&!C(t.src,l=s[0][1].photo_url)&&n(t,"src",l),o&1&&r!==(r=`Photo de ${s[0][1].nom}`)&&n(t,"alt",r),o&1&&c!==(c=s[0][1].nom+"")&&F(p,c),o&1&&b!==(b=(s[5][s[0][1].position]||s[0][1].position)+"")&&F(g,b)},d(s){s&&d(e)}}}function lt(i){let e,t;return{c(){e=v("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){C(e.src,t="/img/plus.png")||n(e,"src",t),n(e,"alt","icone plus"),n(e,"class","svelte-1pjpb7f")},m(l,r){L(l,e,r)},p:re,d(l){l&&d(e)}}}function st(i){let e,t,l,r,m,a,c=i[0][2].nom+"",p,k,f,b=(i[5][i[0][2].position]||i[0][2].position)+"",g;return{c(){e=v("div"),t=v("img"),m=S(),a=v("p"),p=J(c),k=S(),f=v("p"),g=J(b),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=j(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),m=O(o),a=h(o,"P",{class:!0});var P=j(a);p=q(P,c),P.forEach(d),k=O(o),f=h(o,"P",{class:!0});var I=j(f);g=q(I,b),I.forEach(d),o.forEach(d),this.h()},h(){C(t.src,l=i[0][2].photo_url)||n(t,"src",l),n(t,"alt",r=`Photo de ${i[0][2].nom}`),n(t,"class","joueur-photo svelte-1pjpb7f"),n(a,"class","svelte-1pjpb7f"),n(f,"class","svelte-1pjpb7f"),n(e,"class","joueur-info svelte-1pjpb7f")},m(s,o){L(s,e,o),u(e,t),u(e,m),u(e,a),u(a,p),u(e,k),u(e,f),u(f,g)},p(s,o){o&1&&!C(t.src,l=s[0][2].photo_url)&&n(t,"src",l),o&1&&r!==(r=`Photo de ${s[0][2].nom}`)&&n(t,"alt",r),o&1&&c!==(c=s[0][2].nom+"")&&F(p,c),o&1&&b!==(b=(s[5][s[0][2].position]||s[0][2].position)+"")&&F(g,b)},d(s){s&&d(e)}}}function ot(i){let e,t;return{c(){e=v("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){C(e.src,t="/img/plus.png")||n(e,"src",t),n(e,"alt","icone plus"),n(e,"class","svelte-1pjpb7f")},m(l,r){L(l,e,r)},p:re,d(l){l&&d(e)}}}function it(i){let e,t,l,r,m,a,c=i[0][3].nom+"",p,k,f,b=(i[5][i[0][3].position]||i[0][3].position)+"",g;return{c(){e=v("div"),t=v("img"),m=S(),a=v("p"),p=J(c),k=S(),f=v("p"),g=J(b),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=j(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),m=O(o),a=h(o,"P",{class:!0});var P=j(a);p=q(P,c),P.forEach(d),k=O(o),f=h(o,"P",{class:!0});var I=j(f);g=q(I,b),I.forEach(d),o.forEach(d),this.h()},h(){C(t.src,l=i[0][3].photo_url)||n(t,"src",l),n(t,"alt",r=`Photo de ${i[0][3].nom}`),n(t,"class","joueur-photo svelte-1pjpb7f"),n(a,"class","svelte-1pjpb7f"),n(f,"class","svelte-1pjpb7f"),n(e,"class","joueur-info svelte-1pjpb7f")},m(s,o){L(s,e,o),u(e,t),u(e,m),u(e,a),u(a,p),u(e,k),u(e,f),u(f,g)},p(s,o){o&1&&!C(t.src,l=s[0][3].photo_url)&&n(t,"src",l),o&1&&r!==(r=`Photo de ${s[0][3].nom}`)&&n(t,"alt",r),o&1&&c!==(c=s[0][3].nom+"")&&F(p,c),o&1&&b!==(b=(s[5][s[0][3].position]||s[0][3].position)+"")&&F(g,b)},d(s){s&&d(e)}}}function nt(i){let e,t;return{c(){e=v("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){C(e.src,t="/img/plus.png")||n(e,"src",t),n(e,"alt","icone plus"),n(e,"class","svelte-1pjpb7f")},m(l,r){L(l,e,r)},p:re,d(l){l&&d(e)}}}function rt(i){let e,t,l,r,m,a,c=i[0][4].nom+"",p,k,f,b=(i[5][i[0][4].position]||i[0][4].position)+"",g;return{c(){e=v("div"),t=v("img"),m=S(),a=v("p"),p=J(c),k=S(),f=v("p"),g=J(b),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=j(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),m=O(o),a=h(o,"P",{class:!0});var P=j(a);p=q(P,c),P.forEach(d),k=O(o),f=h(o,"P",{class:!0});var I=j(f);g=q(I,b),I.forEach(d),o.forEach(d),this.h()},h(){C(t.src,l=i[0][4].photo_url)||n(t,"src",l),n(t,"alt",r=`Photo de ${i[0][4].nom}`),n(t,"class","joueur-photo svelte-1pjpb7f"),n(a,"class","svelte-1pjpb7f"),n(f,"class","svelte-1pjpb7f"),n(e,"class","joueur-info svelte-1pjpb7f")},m(s,o){L(s,e,o),u(e,t),u(e,m),u(e,a),u(a,p),u(e,k),u(e,f),u(f,g)},p(s,o){o&1&&!C(t.src,l=s[0][4].photo_url)&&n(t,"src",l),o&1&&r!==(r=`Photo de ${s[0][4].nom}`)&&n(t,"alt",r),o&1&&c!==(c=s[0][4].nom+"")&&F(p,c),o&1&&b!==(b=(s[5][s[0][4].position]||s[0][4].position)+"")&&F(g,b)},d(s){s&&d(e)}}}function at(i){let e,t;return{c(){e=v("img"),this.h()},l(l){e=h(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){C(e.src,t="/img/plus.png")||n(e,"src",t),n(e,"alt","icone plus"),n(e,"class","svelte-1pjpb7f")},m(l,r){L(l,e,r)},p:re,d(l){l&&d(e)}}}function ct(i){let e,t,l,r,m,a,c=i[0][5].nom+"",p,k,f,b=(i[5][i[0][5].position]||i[0][5].position)+"",g;return{c(){e=v("div"),t=v("img"),m=S(),a=v("p"),p=J(c),k=S(),f=v("p"),g=J(b),this.h()},l(s){e=h(s,"DIV",{class:!0});var o=j(e);t=h(o,"IMG",{src:!0,alt:!0,class:!0}),m=O(o),a=h(o,"P",{class:!0});var P=j(a);p=q(P,c),P.forEach(d),k=O(o),f=h(o,"P",{class:!0});var I=j(f);g=q(I,b),I.forEach(d),o.forEach(d),this.h()},h(){C(t.src,l=i[0][5].photo_url)||n(t,"src",l),n(t,"alt",r=`Photo de ${i[0][5].nom}`),n(t,"class","joueur-photo svelte-1pjpb7f"),n(a,"class","svelte-1pjpb7f"),n(f,"class","svelte-1pjpb7f"),n(e,"class","joueur-info svelte-1pjpb7f")},m(s,o){L(s,e,o),u(e,t),u(e,m),u(e,a),u(a,p),u(e,k),u(e,f),u(f,g)},p(s,o){o&1&&!C(t.src,l=s[0][5].photo_url)&&n(t,"src",l),o&1&&r!==(r=`Photo de ${s[0][5].nom}`)&&n(t,"alt",r),o&1&&c!==(c=s[0][5].nom+"")&&F(p,c),o&1&&b!==(b=(s[5][s[0][5].position]||s[0][5].position)+"")&&F(g,b)},d(s){s&&d(e)}}}function Ve(i){let e,t,l;return t=new Ke({props:{text:"valider",url:"/gameweek"}}),{c(){e=v("div"),he(t.$$.fragment),this.h()},l(r){e=h(r,"DIV",{class:!0});var m=j(e);be(t.$$.fragment,m),m.forEach(d),this.h()},h(){n(e,"class","button svelte-1pjpb7f")},m(r,m){L(r,e,m),ge(t,e,null),l=!0},i(r){l||(te(t.$$.fragment,r),l=!0)},o(r){oe(t.$$.fragment,r),l=!1},d(r){r&&d(e),je(t)}}}function ut(i){let e,t,l,r,m,a,c,p,k,f,b,g,s,o,P,I,D,H,R,B,y,T,M,G,N,X,V,le,ue;const z=[xe,Ze],w=[];function se(_,E){return _[1]?0:1}e=se(i),t=w[e]=z[e](i);function x(_,E){return _[0][1]?tt:et}let ie=x(i),A=ie(i);function ce(_,E){return _[0][2]?st:lt}let ne=ce(i),U=ne(i);function ke(_,E){return _[0][3]?it:ot}let pe=ke(i),K=pe(i);function Pe(_,E){return _[0][4]?rt:nt}let fe=Pe(i),W=fe(i);function ye(_,E){return _[0][5]?ct:at}let _e=ye(i),Q=_e(i);N=new Ye({props:{activePosition:i[2],selectedPlayer:i[0][i[2]],selectedPlayersList:i[3]}}),N.$on("playerSelect",i[7]);let $=i[4]&&Ve();return{c(){t.c(),l=S(),r=v("section"),m=v("section"),a=v("div"),c=v("button"),A.c(),k=S(),f=v("button"),U.c(),g=S(),s=v("div"),o=v("button"),K.c(),I=S(),D=v("button"),W.c(),R=S(),B=v("button"),Q.c(),T=S(),M=v("section"),G=v("div"),he(N.$$.fragment),X=S(),$&&$.c(),this.h()},l(_){t.l(_),l=O(_),r=h(_,"SECTION",{class:!0});var E=j(r);m=h(E,"SECTION",{class:!0});var Y=j(m);a=h(Y,"DIV",{class:!0});var ee=j(a);c=h(ee,"BUTTON",{class:!0});var Ee=j(c);A.l(Ee),Ee.forEach(d),k=O(ee),f=h(ee,"BUTTON",{class:!0});var Ie=j(f);U.l(Ie),Ie.forEach(d),ee.forEach(d),g=O(Y),s=h(Y,"DIV",{class:!0});var me=j(s);o=h(me,"BUTTON",{class:!0});var we=j(o);K.l(we),we.forEach(d),I=O(me),D=h(me,"BUTTON",{class:!0});var De=j(D);W.l(De),De.forEach(d),me.forEach(d),R=O(Y),B=h(Y,"BUTTON",{class:!0});var Me=j(B);Q.l(Me),Me.forEach(d),Y.forEach(d),T=O(E),M=h(E,"SECTION",{class:!0});var de=j(M);G=h(de,"DIV",{class:!0});var Se=j(G);be(N.$$.fragment,Se),Se.forEach(d),X=O(de),$&&$.l(de),de.forEach(d),E.forEach(d),this.h()},h(){n(c,"class",p=Z(i[2]===1?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"),n(f,"class",b=Z(i[2]===2?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"),n(a,"class","position svelte-1pjpb7f"),n(o,"class",P=Z(i[2]===3?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"),n(D,"class",H=Z(i[2]===4?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"),n(s,"class","position milieuterrain svelte-1pjpb7f"),n(B,"class",y=Z(i[2]===5?"position emplacement-position2 active":"position emplacement-position2")+" svelte-1pjpb7f"),n(m,"class","terrain svelte-1pjpb7f"),n(G,"class","option-joueur svelte-1pjpb7f"),n(M,"class","option svelte-1pjpb7f"),n(r,"class","compo svelte-1pjpb7f")},m(_,E){w[e].m(_,E),L(_,l,E),L(_,r,E),u(r,m),u(m,a),u(a,c),A.m(c,null),u(a,k),u(a,f),U.m(f,null),u(m,g),u(m,s),u(s,o),K.m(o,null),u(s,I),u(s,D),W.m(D,null),u(m,R),u(m,B),Q.m(B,null),u(r,T),u(r,M),u(M,G),ge(N,G,null),u(M,X),$&&$.m(M,null),V=!0,le||(ue=[ae(c,"click",i[8]),ae(f,"click",i[9]),ae(o,"click",i[10]),ae(D,"click",i[11]),ae(B,"click",i[12])],le=!0)},p(_,[E]){let Y=e;e=se(_),e!==Y&&($e(),oe(w[Y],1,1,()=>{w[Y]=null}),Te(),t=w[e],t||(t=w[e]=z[e](_),t.c()),te(t,1),t.m(l.parentNode,l)),ie===(ie=x(_))&&A?A.p(_,E):(A.d(1),A=ie(_),A&&(A.c(),A.m(c,null))),(!V||E&4&&p!==(p=Z(_[2]===1?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"))&&n(c,"class",p),ne===(ne=ce(_))&&U?U.p(_,E):(U.d(1),U=ne(_),U&&(U.c(),U.m(f,null))),(!V||E&4&&b!==(b=Z(_[2]===2?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"))&&n(f,"class",b),pe===(pe=ke(_))&&K?K.p(_,E):(K.d(1),K=pe(_),K&&(K.c(),K.m(o,null))),(!V||E&4&&P!==(P=Z(_[2]===3?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"))&&n(o,"class",P),fe===(fe=Pe(_))&&W?W.p(_,E):(W.d(1),W=fe(_),W&&(W.c(),W.m(D,null))),(!V||E&4&&H!==(H=Z(_[2]===4?"emplacement-position active":"emplacement-position")+" svelte-1pjpb7f"))&&n(D,"class",H),_e===(_e=ye(_))&&Q?Q.p(_,E):(Q.d(1),Q=_e(_),Q&&(Q.c(),Q.m(B,null))),(!V||E&4&&y!==(y=Z(_[2]===5?"position emplacement-position2 active":"position emplacement-position2")+" svelte-1pjpb7f"))&&n(B,"class",y);const ee={};E&4&&(ee.activePosition=_[2]),E&5&&(ee.selectedPlayer=_[0][_[2]]),E&8&&(ee.selectedPlayersList=_[3]),N.$set(ee),_[4]?$?E&16&&te($,1):($=Ve(),$.c(),te($,1),$.m(M,null)):$&&($e(),oe($,1,1,()=>{$=null}),Te())},i(_){V||(te(t),te(N.$$.fragment,_),te($),V=!0)},o(_){oe(t),oe(N.$$.fragment,_),oe($),V=!1},d(_){_&&(d(l),d(r)),w[e].d(_),A.d(),U.d(),K.d(),W.d(),Q.d(),je(N),$&&$.d(),le=!1,qe(ue)}}}function pt(i,e,t){let l,r,m=!1,a=5,c=null,p={1:null,2:null,3:null,4:null,5:null};const k={Goalkeeper:"Gardien",Defender:"Défenseur",Midfielder:"Milieu",Attacker:"Attaquant"};function f(){typeof window<"u"&&t(1,m=window.innerWidth<=768)}async function b(){try{const y=await fetch("/api/getPlayersCompo?position=Tous");if(y.ok){const T=await y.json();return c=T.userId,c&&localStorage.setItem("userSession",JSON.stringify({userId:c})),T.players}else console.error("Failed to fetch players")}catch(y){console.error("Error fetching players:",y)}}function g(y){t(2,a=y)}function s(){if(typeof window<"u"&&c!==null&&c!==void 0){const y=Object.keys(p).reduce((M,G)=>(p[G]&&(M[G]={id:p[G].id}),M),{});localStorage.setItem("userSession",JSON.stringify({userId:c}));const T=JSON.parse(localStorage.getItem("userCompositions")||"{}");T[c]=y,localStorage.setItem("userCompositions",JSON.stringify(T))}else console.error("No valid userId found to save the composition.")}function o(y){const T=y.detail;t(0,p[a]=T,p),t(3,l=Object.values(p).filter(M=>M!==null)),s()}async function P(){if(typeof window<"u"&&c){const y=JSON.parse(localStorage.getItem("userCompositions")||"{}");if(y[c]){const T=y[c],M=await b(),G={};for(const N in T){const X=T[N].id,V=M.find(le=>le.id===X);V&&(G[N]=V)}t(0,p=G),t(3,l=Object.values(p).filter(N=>N!==null))}}}Le(async()=>{await b(),c?await P():console.error("User ID not found"),typeof window<"u"&&(f(),window.addEventListener("resize",f))}),Fe(()=>{typeof window<"u"&&window.removeEventListener("resize",f)});const I=()=>g(1),D=()=>g(2),H=()=>g(3),R=()=>g(4),B=()=>g(5);return i.$$.update=()=>{i.$$.dirty&1&&t(3,l=Object.values(p).filter(y=>y!==null)),i.$$.dirty&1&&t(4,r=Object.values(p).every(y=>y!==null))},[p,m,a,l,r,k,g,o,I,D,H,R,B]}class bt extends Ae{constructor(e){super(),Ue(this,e,pt,ut,Be,{})}}export{bt as component};
