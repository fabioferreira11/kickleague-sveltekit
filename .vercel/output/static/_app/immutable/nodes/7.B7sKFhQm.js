import{s as oe,e as d,b as C,d as p,p as y,j as E,f as S,i as h,q as o,y as B,k as A,l as a,A as F,v as X,n as ie,r as re,t as Y,h as Z,m as x}from"../chunks/scheduler.RIs2sDzR.js";import{S as ue,i as ce}from"../chunks/index.CgKjrO5Z.js";/* empty css                       */function le(l){let t,n;return{c(){t=d("span"),n=Y(l[2]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var e=S(t);n=Z(e,l[2]),e.forEach(h),this.h()},h(){o(t,"class","error-message svelte-ii7zbk")},m(s,e){A(s,t,e),a(t,n)},p(s,e){e&4&&x(n,s[2])},d(s){s&&h(t)}}}function ne(l){let t,n;return{c(){t=d("span"),n=Y(l[3]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var e=S(t);n=Z(e,l[3]),e.forEach(h),this.h()},h(){o(t,"class","error-message svelte-ii7zbk")},m(s,e){A(s,t,e),a(t,n)},p(s,e){e&8&&x(n,s[3])},d(s){s&&h(t)}}}function ae(l){let t,n;return{c(){t=d("span"),n=Y(l[4]),this.h()},l(s){t=p(s,"SPAN",{class:!0});var e=S(t);n=Z(e,l[4]),e.forEach(h),this.h()},h(){o(t,"class","error-message-db svelte-ii7zbk")},m(s,e){A(s,t,e),a(t,n)},p(s,e){e&16&&x(n,s[4])},d(s){s&&h(t)}}}function fe(l){let t,n='<img src="/img/kl-logo.png" alt="Logo Kick League" class="logo"/>',s,e,_,g,D='<h2 class="svelte-ii7zbk">Connexion</h2> <p class="svelte-ii7zbk">Heureux de vous revoir sur Kick League ! Connectez-vous avec vos identifiants pour retrouver votre équipe et reprendre votre quête de gloire. Votre prochaine grande victoire vous attend peut-être juste au prochain match. Entrez vos informations de connexion et replongez dans l&#39;action sans plus attendre. Que le jeu continue !</p>',P,r,b,L,j="Email",I,m,K,U,z,T,$="Mot de passe",J,k,Q,R,w,q,ee='<button type="submit" class="submit-button svelte-ii7zbk">Se connecter</button>',G,H,te='<div class="bento-1-connexion svelte-ii7zbk"></div> <div class="bento-ligne-2 svelte-ii7zbk"><div class="bento-2-connexion svelte-ii7zbk"></div> <div class="bento-3-connexion svelte-ii7zbk"></div></div>',W,se,u=l[2]&&le(l),c=l[3]&&ne(l),f=l[4]&&ae(l);return{c(){t=d("a"),t.innerHTML=n,s=C(),e=d("div"),_=d("section"),g=d("div"),g.innerHTML=D,P=C(),r=d("form"),b=d("div"),L=d("label"),L.textContent=j,I=C(),m=d("input"),K=C(),u&&u.c(),U=C(),z=d("div"),T=d("label"),T.textContent=$,J=C(),k=d("input"),Q=C(),c&&c.c(),R=C(),f&&f.c(),w=C(),q=d("div"),q.innerHTML=ee,G=C(),H=d("section"),H.innerHTML=te,this.h()},l(i){t=p(i,"A",{href:!0,"data-svelte-h":!0}),y(t)!=="svelte-lqk2ui"&&(t.innerHTML=n),s=E(i),e=p(i,"DIV",{class:!0});var v=S(e);_=p(v,"SECTION",{class:!0});var O=S(_);g=p(O,"DIV",{class:!0,"data-svelte-h":!0}),y(g)!=="svelte-10brqyu"&&(g.innerHTML=D),P=E(O),r=p(O,"FORM",{class:!0});var M=S(r);b=p(M,"DIV",{class:!0});var N=S(b);L=p(N,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(L)!=="svelte-1p9d3fm"&&(L.textContent=j),I=E(N),m=p(N,"INPUT",{type:!0,id:!0,class:!0}),K=E(N),u&&u.l(N),N.forEach(h),U=E(M),z=p(M,"DIV",{class:!0});var V=S(z);T=p(V,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),y(T)!=="svelte-1m4jsku"&&(T.textContent=$),J=E(V),k=p(V,"INPUT",{type:!0,id:!0,class:!0}),Q=E(V),c&&c.l(V),V.forEach(h),R=E(M),f&&f.l(M),w=E(M),q=p(M,"DIV",{class:!0,"data-svelte-h":!0}),y(q)!=="svelte-517qqe"&&(q.innerHTML=ee),M.forEach(h),O.forEach(h),G=E(v),H=p(v,"SECTION",{class:!0,"data-svelte-h":!0}),y(H)!=="svelte-lnqkde"&&(H.innerHTML=te),v.forEach(h),this.h()},h(){o(t,"href","/"),o(g,"class","connexion-text svelte-ii7zbk"),o(L,"for","email"),o(L,"class","svelte-ii7zbk"),o(m,"type","email"),o(m,"id","email"),o(m,"class","svelte-ii7zbk"),B(m,"invalid",l[2]!==""),o(b,"class","champ svelte-ii7zbk"),o(T,"for","mdp"),o(T,"class","svelte-ii7zbk"),o(k,"type","password"),o(k,"id","mdp"),o(k,"class","svelte-ii7zbk"),B(k,"invalid",l[3]!==""),o(z,"class","champ svelte-ii7zbk"),o(q,"class","button svelte-ii7zbk"),o(r,"class","svelte-ii7zbk"),o(_,"class","formulaire-connexion svelte-ii7zbk"),o(H,"class","img-connexion svelte-ii7zbk"),o(e,"class","connexion svelte-ii7zbk")},m(i,v){A(i,t,v),A(i,s,v),A(i,e,v),a(e,_),a(_,g),a(_,P),a(_,r),a(r,b),a(b,L),a(b,I),a(b,m),F(m,l[0]),a(b,K),u&&u.m(b,null),a(r,U),a(r,z),a(z,T),a(z,J),a(z,k),F(k,l[1]),a(z,Q),c&&c.m(z,null),a(r,R),f&&f.m(r,null),a(r,w),a(r,q),a(e,G),a(e,H),W||(se=[X(m,"input",l[6]),X(k,"input",l[7]),X(r,"submit",l[5])],W=!0)},p(i,[v]){v&1&&m.value!==i[0]&&F(m,i[0]),v&4&&B(m,"invalid",i[2]!==""),i[2]?u?u.p(i,v):(u=le(i),u.c(),u.m(b,null)):u&&(u.d(1),u=null),v&2&&k.value!==i[1]&&F(k,i[1]),v&8&&B(k,"invalid",i[3]!==""),i[3]?c?c.p(i,v):(c=ne(i),c.c(),c.m(z,null)):c&&(c.d(1),c=null),i[4]?f?f.p(i,v):(f=ae(i),f.c(),f.m(r,w)):f&&(f.d(1),f=null)},i:ie,o:ie,d(i){i&&(h(t),h(s),h(e)),u&&u.d(),c&&c.d(),f&&f.d(),W=!1,re(se)}}}function ve(l,t,n){let s="",e="",_="",g="",D="";function P(){return n(2,_=s?"":"Veuillez introduire une adresse email."),n(3,g=e?"":"Veuillez introduire un mot de passe."),!_&&!g}async function r(j){if(j.preventDefault(),!P())return;const I=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s,mdp:e})});if(I.ok)console.log("Login successful, navigating to /club"),window.location.href="/club";else{const m=await I.json();console.error("Login failed:",m.message),n(4,D="L'email ou le mot de passe sont invalide")}}function b(){s=this.value,n(0,s)}function L(){e=this.value,n(1,e)}return[s,e,_,g,D,r,b,L]}class he extends ue{constructor(t){super(),ce(this,t,ve,fe,oe,{})}}export{he as component};
